# Open SDK

## How to define an open API in YAML or JSON?

- [x] determined by YAML

## Should API definitions (api, schemas) be managed as one-source?

- [x] Manage in one place as a YAML file and support multiple SDK languages

## Should YAML API request body be JSONRPC?

- [x] JSONRPC : id, method, jsonrpc, params
- [x] REST API:
    - [x] method : getRewards()
    - [x] params : blockNumber Integer

## Do params use by array in jsonrpc 2.0 request?

- [x] Shall Array be used as a parameter?
    - [x] use the getRewards(params Array[Integer])
- [x] Declaring a single parameter, receiving it as an argument and converting it into an Array?
    - [x] use the getRewards(num Integer)
    - [ ] send the array params: [integer]


## Do id increase in jsonrpc 2.0 request?

- [x] Shall we use auto increment? (Java, Kotlin)
- [x] Shall we use 1 as a fixed value?

## How to change method name?

- [x] In the yaml (json) spec, it is recommended that the method name be fixed for each API and not set separately when using the method in generated code.

## Is the jsonrpc field fixed to 2.0?

- [x] jsonrpc: fixed to 2.0

## Can the API created by the generator process hidden jsonrpc requests?

- [x] usage : getRewards(blockNumber Integer)
- [x] rpc call
    - [x] id : auto increment
    - [x] method: set to klay_getRewards automatically
    - [x] jsonrpc: 2.0
    - [x] params : array of integer, [ blockNumber ]

## Reuse caver-java constructs?

- [ ] use web3j Request, Response, `Web3jService`
- [x] Do you want to use the code generated by the openapi generator?


## Which generator should I use, openapi or swagger?

- [x]  openapi generator : [https://github.com/OpenAPITools/openapi-generator](https://github.com/OpenAPITools/openapi-generator)
- [ ]  swagger codegen : [https://github.com/swagger-api/swagger-codegen](https://github.com/swagger-api/swagger-codegen)

## To what extent does the SDK generator auto-generate?

- [x]  API
- [x]  Client
- [x]  Model
- [x]  RPC call

## What languages does the SDK support?

- [x]  java
- [x]  javascript
- [x]  typescript + axios
- [x]  kotlin + retrofit2
- [ ]  android(kotlin)
- [ ]  go
- [ ]  rust
- [ ]  python
- [ ]  swift

## How to manage code that cannot be automatically generated?

- [ ]  solidity(contract)
- [ ]  ~~wallet~~
- [ ]  ~~account~~
- [ ]  transaction
- [ ]  ~~keystore~~
- [ ]  ~~klaytn specific feature~~
- [ ]  ethereum feature

## What are the rules for writing test code?

- [ ]  coverage
- [x]  BDD
- [x]  Must be coded together when API is added/changed

## How to manage documents?

- [x] RPCJSON
- [x] SDK API Documentation
- [x] Example usage by SDK language
- [x] Configure Online API Server (SwaggerUI)

## Does it need to customize the mustache template?

- [x]  Copy all template files of the specific language and library
- [x]  Patch a snippet codes

## Generators List

[https://openapi-generator.tech/docs/generators/](https://openapi-generator.tech/docs/generators/)


### Do I need to configure the server to serve a public page to view OpenAPI documentation?

- [ ] Server operation
- [x] using github books

### Version control in yaml file?

- [x] branching versions to servers/tags in the same yaml file
- [ ] create a new yaml file and copy all

#TODO

### Define all Klaytn APIs

- [ ] To list

### Organize APIs that cannot be created with OpenAPI

- [ ] To list

### Develop APIs with various languages and libraries

- [ ] To List

### Listing test cases for all APIs and creating a requirements skeleton omitting the implementation in the BDD method

- [ ] To List

### Proposal for Newbie Onboarding Program

- [ ] Try to make an SDK in your favorite language
- [ ] Suggests test case scenarios for all APIs created and creates test cases to see if the API works well
- [ ] Define a new Klaytn API, add it to the SDK, and test it

# References

### OpenAPI

OpenAPI Getting started : [github.io](https://oai.github.io/Documentation/start-here.html)

OpenAPI specification : [github.io](https://oai.github.io/Documentation/specification.html)

OpenAPI 3.1.0 specification : [github](https://github.com/OAI/OpenAPI-Specification/blob/3.1.0/versions/3.1.0.md#pathsObject)

OpenAPI generator : [github](https://github.com/OpenAPITools/openapi-generator)

### Mustache

Mustache Manual : [github.io](https://mustache.github.io/mustache.5.html)

Mustache Template : [medium](https://github.com/samskivert/jmustache)

Mustache turorial : [tsmean](https://www.tsmean.com/articles/mustache/the-ultimate-mustache-tutorial/)

JMustache : [github](https://github.com/samskivert/jmustache)

### Swagger

Swagger specification : [swagger](https://swagger.io/specification/#oas-version)

Swagger codegen : [github](https://github.com/swagger-api/swagger-codegen)

Swagger editor : [editor](https://editor.swagger.io/)

Swagger codegen handlebar : [notes](https://sites.google.com/site/bingsite/web-development/java-goodies/template-engine/handlebar-mustache?pli=1)

JSON-RPC specification : [specification](https://www.jsonrpc.org/specification)
